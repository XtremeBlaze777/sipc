foo() {
  return 42;
}

main() {
  var w, x, y, z;
  x = [0, 1, 2, 3];
  if (#x != 4) error 1;
  if (x[0] != 0) error 2;
  if (x[3] != 3) error 3;
  x[1] = 2;
  if (x[1] != 2) error 4;

  y = [3 of 5];
  if (#y != 3) error 5;
  if (y[0] != 5) error 6;
  if (y[4] != 5) error 7;
  y[4] = 4;
  if (y[4] != 4) error 8;

  z = [10 of foo()];
  if (#z != 10) error 9;
  if (z[0] != foo()) error 10;
  if (z[9] != foo()) error 11;

  w = [];
  if (#w != 0) error 12;
}
